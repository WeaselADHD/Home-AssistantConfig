---
# Template binary sensors
platform: template
sensors:
  any_light_on:
    friendly_name: Any light is on
    unique_id: any_light_on
    value_template: >
      {{ expand('light.all_lights') | selectattr('state', 'eq', 'on') | list | count > 0 }}

  any_fan_on:
    friendly_name: Any fan is on
    unique_id: any_fan_on
    value_template: >
      {{ expand('fan.all_fans') | selectattr('state', 'eq', 'on') | list | count > 0 }}

  any_media_player_on:
    friendly_name: Any media player is on
    unique_id: any_media_player_on
    value_template: >
      {{ expand('media_player.all_media_players') | selectattr('state', 'eq', 'on') | list | count > 0 }}

  any_device_on:
    friendly_name: Any device is on
    unique_id: any_device_on
    value_template: >
      {{ is_state("binary_sensor.any_light_on", "on") or
        is_state("binary_sensor.any_fan_on", "on") or
        is_state("binary_sensor.any_media_player_on", "on") }}
